import{j as u}from"./jsx-runtime-6eef64cc.js";import{r as d,R as m}from"./index-c013ead5.js";import{h as P,u as g,l as C,m as j,n as _,o as b}from"./appointmentSlice-91d9bc63.js";import{k as R}from"./index.esm-1814e9b6.js";import{P as M}from"./Presta-9f523ab8.js";import{_ as N,T as E,C as V}from"./CSSTransition-12fac145.js";import{_ as T,a as F}from"./inheritsLoose-9eefaa95.js";import{_ as L}from"./assertThisInitialized-081f9914.js";function h(t,n){var a=function(r){return n&&d.isValidElement(r)?n(r):r},s=Object.create(null);return t&&d.Children.map(t,function(e){return e}).forEach(function(e){s[e.key]=a(e)}),s}function S(t,n){t=t||{},n=n||{};function a(f){return f in n?n[f]:t[f]}var s=Object.create(null),e=[];for(var r in t)r in n?e.length&&(s[r]=e,e=[]):e.push(r);var i,l={};for(var o in n){if(s[o])for(i=0;i<s[o].length;i++){var c=s[o][i];l[s[o][i]]=a(c)}l[o]=a(o)}for(i=0;i<e.length;i++)l[e[i]]=a(e[i]);return l}function p(t,n,a){return a[n]!=null?a[n]:t.props[n]}function D(t,n){return h(t.children,function(a){return d.cloneElement(a,{onExited:n.bind(null,a),in:!0,appear:p(a,"appear",t),enter:p(a,"enter",t),exit:p(a,"exit",t)})})}function O(t,n,a){var s=h(t.children),e=S(n,s);return Object.keys(e).forEach(function(r){var i=e[r];if(d.isValidElement(i)){var l=r in n,o=r in s,c=n[r],f=d.isValidElement(c)&&!c.props.in;o&&(!l||f)?e[r]=d.cloneElement(i,{onExited:a.bind(null,i),in:!0,exit:p(i,"exit",t),enter:p(i,"enter",t)}):!o&&l&&!f?e[r]=d.cloneElement(i,{in:!1}):o&&l&&d.isValidElement(c)&&(e[r]=d.cloneElement(i,{onExited:a.bind(null,i),in:c.props.in,exit:p(i,"exit",t),enter:p(i,"enter",t)}))}}),e}var A=Object.values||function(t){return Object.keys(t).map(function(n){return t[n]})},y={component:"div",childFactory:function(n){return n}},v=function(t){T(n,t);function n(s,e){var r;r=t.call(this,s,e)||this;var i=r.handleExited.bind(L(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}var a=n.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,r){var i=r.children,l=r.handleExited,o=r.firstRender;return{children:o?D(e,l):O(e,i,l),firstRender:!1}},a.handleExited=function(e,r){var i=h(this.props.children);e.key in i||(e.props.onExited&&e.props.onExited(r),this.mounted&&this.setState(function(l){var o=F({},l.children);return delete o[e.key],{children:o}}))},a.render=function(){var e=this.props,r=e.component,i=e.childFactory,l=N(e,["component","childFactory"]),o=this.state.contextValue,c=A(this.state.children).map(i);return delete l.appear,delete l.enter,delete l.exit,r===null?m.createElement(E.Provider,{value:o},c):m.createElement(E.Provider,{value:o},m.createElement(r,l,c))},n}(m.Component);v.propTypes={};v.defaultProps=y;const G=v;const I=t=>t.map(n=>({...n,nodeRef:d.createRef()})),x=()=>{const t=P(),n=g(e=>e.appointment.listPrestations),a=g(e=>e.appointment.created),s=d.useCallback(()=>{a&&t(C(null))},[a]);return u.jsxs("div",{className:"list-prest-contenair",children:[u.jsx(G,{className:"prest-list",children:I(n).map(e=>{const r=()=>{t(j(e.id))},i=o=>{t(_({id:e.id,newPresta:o}))},l=o=>{t(b({id:e.id,newColl:o.name}))};return u.jsx(V,{nodeRef:e.nodeRef,timeout:200,classNames:"prest",children:u.jsx(M,{prestation:e,onDelete:r,onChangePrestation:i,onChangeCollaborateur:l,ref:e.nodeRef,disabled:!a},e.id)},e.id)})}),u.jsx("button",{className:"list-prest-add",onClick:s,children:u.jsxs("div",{className:"list-prest-add-main",children:[u.jsx(R,{size:20}),"Ajouter une prestation Ã  la suite"]})})]})};try{x.displayName="ListPresta",x.__docgenInfo={description:"",displayName:"ListPresta",props:{}}}catch{}export{x as L};
//# sourceMappingURL=ListPresta-fb3d5650.js.map
